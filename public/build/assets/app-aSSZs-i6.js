let o;window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),o=t});document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("mobileMenuButton"),i=document.getElementById("topNavMenu");t&&i&&t.addEventListener("click",()=>{i.classList.toggle("hidden")});const d=document.getElementById("mediaToggle"),c=document.getElementById("mediaSubmenu");d&&c&&d.addEventListener("click",()=>{c.classList.toggle("hidden")});const u=document.querySelectorAll("[data-filter]"),g=document.querySelectorAll("[data-category]");u.forEach(e=>{e.addEventListener("click",()=>{const n=e.getAttribute("data-filter");g.forEach(s=>{const h=s.getAttribute("data-category")===n;s.classList.toggle("hidden",!h)})})});const a=document.getElementById("lightbox"),r=document.getElementById("lightboxImage"),l=document.getElementById("lightboxClose");document.querySelectorAll("[data-lightbox]").forEach(e=>{e.addEventListener("click",()=>{r.src=e.getAttribute("data-lightbox")||e.src,a.classList.remove("hidden"),a.classList.add("flex")})}),l&&l.addEventListener("click",()=>{a.classList.add("hidden"),a.classList.remove("flex"),r.src=""});const m=document.querySelectorAll("[data-animate]");m.forEach(e=>{e.classList.add("opacity-0","translate-y-4")});const f=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting&&(n.target.classList.remove("opacity-0","translate-y-4"),n.target.classList.add("transition","duration-500"))})},{threshold:.15});m.forEach(e=>f.observe(e)),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js"),document.querySelectorAll("[data-pwa-install]").forEach(e=>{e.addEventListener("click",async n=>{if(n.preventDefault(),o)o.prompt(),await o.userChoice,o=null;else{const s=e.getAttribute("href")||"/manifest.webmanifest";window.location.href=s}})})});window.addEventListener("load",()=>{const t=document.querySelector("[data-preloader]");t&&(t.classList.add("opacity-0","pointer-events-none"),setTimeout(()=>t.remove(),500))});
